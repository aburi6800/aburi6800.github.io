---
layout: post
title:  "BAStoCを通すためのメモ"
date:   2025-02-11 22:00:00 +0900
categories: x68000 xbasic
---

初版 2025/02/11  
改訂 

-----

<br>

X68000のX-BASICで書いたプログラムは、BAStoC(BASICコンパイラ)でCプログラムに変換できる。  
その際、いくつか注意事項があるため、ここに記載する。  

<br>

## 値

- float型の値を扱う場合は、暗黙的な変換が行われないように注意する。  
例）少数(.0)を付ける、修飾子(#)を付ける、など

<br>

## 関数の定義について

- 関数はメインロジックの後（＝end文以降）にまとめて定義する。その前で定義するとエラーが発生する。

- X-BASICでは関数の引数に与える値に暗黙的な型変換(int→float)が行われたが、Cでは行われない。想定外の結果となることがあるため、暗黙的な型変換を期待した書き方はしないこと。

<br>

## その他

- 論理演算を使用している場合は、結果の差異に留意すること。できればゼロかゼロ以外かで判定すると良い。
	- BASIC : true = -1、false = 0
	- C : true = 1、false = 0

- 計算式、条件判断文については、優先順位を明確にするための括弧を付けるようにする。

- switch文のcaseに文字列を書かない。

<br>
